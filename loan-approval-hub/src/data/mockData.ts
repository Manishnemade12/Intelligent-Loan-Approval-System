import { LoanApplication, DashboardStats, User, RiskFactor } from '@/types/loan';

export const mockUsers: User[] = [
  { id: '1', name: 'John Smith', email: 'john@example.com', role: 'customer' },
  { id: '2', name: 'Sarah Johnson', email: 'sarah@loanbank.com', role: 'officer' },
  { id: '3', name: 'Michael Chen', email: 'michael@loanbank.com', role: 'admin' },
];

export const mockApplications: LoanApplication[] = [
  {
    id: 'LA-2024-001',
    applicantName: 'Emily Rodriguez',
    email: 'emily.r@email.com',
    phone: '+1 (555) 123-4567',
    loanType: 'home',
    loanAmount: 250000,
    loanTerm: 360,
    purpose: 'First home purchase in suburban area',
    annualIncome: 95000,
    monthlyExpenses: 3200,
    creditScore: 742,
    existingDebts: 15000,
    employmentType: 'salaried',
    employmentDuration: 5,
    dti: 28,
    lti: 2.63,
    riskScore: 25,
    status: 'approved',
    documents: [
      { id: 'd1', name: 'salary_slip_jan.pdf', type: 'salary_slip', uploadedAt: '2024-01-15', verified: true, extractedData: { monthlyIncome: 7916 } },
      { id: 'd2', name: 'bank_statement.pdf', type: 'bank_statement', uploadedAt: '2024-01-15', verified: true },
    ],
    aiExplanation: 'Application approved based on strong credit profile. The applicant demonstrates excellent creditworthiness with a score of 742, stable employment history of 5 years, and a manageable debt-to-income ratio of 28%.',
    aiSuggestions: ['Consider setting up automatic payments for better rate', 'Review insurance options for the property'],
    submittedAt: '2024-01-15T10:30:00Z',
    reviewedAt: '2024-01-16T14:20:00Z',
    reviewedBy: 'Sarah Johnson',
  },
  {
    id: 'LA-2024-002',
    applicantName: 'Marcus Thompson',
    email: 'marcus.t@email.com',
    phone: '+1 (555) 234-5678',
    loanType: 'personal',
    loanAmount: 35000,
    loanTerm: 60,
    purpose: 'Debt consolidation and home improvement',
    annualIncome: 62000,
    monthlyExpenses: 2800,
    creditScore: 621,
    existingDebts: 28000,
    employmentType: 'salaried',
    employmentDuration: 2,
    dti: 45,
    lti: 0.56,
    riskScore: 58,
    status: 'manual_review',
    documents: [
      { id: 'd3', name: 'payslip_december.pdf', type: 'salary_slip', uploadedAt: '2024-01-18', verified: true, extractedData: { monthlyIncome: 5166 } },
    ],
    aiExplanation: 'Application flagged for manual review due to elevated debt-to-income ratio (45%) and fair credit score (621). While the loan amount is reasonable relative to income, existing debt obligations require careful evaluation.',
    aiSuggestions: ['Consider reducing loan amount to $25,000', 'Provide additional income documentation', 'Pay down existing credit card balance before reapplying'],
    submittedAt: '2024-01-18T09:15:00Z',
    assignedOfficer: 'Sarah Johnson',
  },
  {
    id: 'LA-2024-003',
    applicantName: 'Priya Sharma',
    email: 'priya.s@email.com',
    phone: '+1 (555) 345-6789',
    loanType: 'business',
    loanAmount: 150000,
    loanTerm: 84,
    purpose: 'Business expansion - new retail location',
    annualIncome: 180000,
    monthlyExpenses: 8500,
    creditScore: 785,
    existingDebts: 45000,
    employmentType: 'business',
    employmentDuration: 8,
    dti: 22,
    lti: 0.83,
    riskScore: 18,
    status: 'approved',
    documents: [
      { id: 'd4', name: 'business_financials.pdf', type: 'other', uploadedAt: '2024-01-20', verified: true },
      { id: 'd5', name: 'tax_returns_2023.pdf', type: 'other', uploadedAt: '2024-01-20', verified: true },
    ],
    aiExplanation: 'Excellent application with strong business fundamentals. High credit score (785), low DTI ratio (22%), and 8 years of business ownership demonstrate financial stability and low risk.',
    submittedAt: '2024-01-20T11:45:00Z',
    reviewedAt: '2024-01-21T09:30:00Z',
    reviewedBy: 'Michael Chen',
  },
  {
    id: 'LA-2024-004',
    applicantName: 'David Kim',
    email: 'david.k@email.com',
    phone: '+1 (555) 456-7890',
    loanType: 'auto',
    loanAmount: 45000,
    loanTerm: 72,
    purpose: 'New vehicle purchase - Tesla Model 3',
    annualIncome: 78000,
    monthlyExpenses: 3100,
    creditScore: 698,
    existingDebts: 12000,
    employmentType: 'salaried',
    employmentDuration: 3,
    dti: 32,
    lti: 0.58,
    riskScore: 35,
    status: 'pending',
    documents: [
      { id: 'd6', name: 'employment_letter.pdf', type: 'other', uploadedAt: '2024-01-22', verified: false },
    ],
    aiExplanation: 'Application pending document verification. Preliminary assessment shows moderate risk profile with acceptable DTI ratio and fair credit score.',
    submittedAt: '2024-01-22T14:00:00Z',
  },
  {
    id: 'LA-2024-005',
    applicantName: 'Jennifer Walsh',
    email: 'jennifer.w@email.com',
    phone: '+1 (555) 567-8901',
    loanType: 'education',
    loanAmount: 80000,
    loanTerm: 120,
    purpose: 'MBA program at top business school',
    annualIncome: 55000,
    monthlyExpenses: 2200,
    creditScore: 580,
    existingDebts: 35000,
    employmentType: 'salaried',
    employmentDuration: 1,
    dti: 52,
    lti: 1.45,
    riskScore: 72,
    status: 'rejected',
    documents: [
      { id: 'd7', name: 'admission_letter.pdf', type: 'other', uploadedAt: '2024-01-19', verified: true },
    ],
    aiExplanation: 'Application declined due to high-risk profile. The debt-to-income ratio of 52% significantly exceeds our threshold of 43%, and the credit score of 580 indicates credit history concerns. The loan-to-income ratio of 1.45 also presents repayment challenges.',
    aiSuggestions: ['Work on improving credit score above 620', 'Reduce existing debt obligations', 'Consider a co-signer with stronger credit profile', 'Explore partial scholarship or employer sponsorship options'],
    submittedAt: '2024-01-19T16:30:00Z',
    reviewedAt: '2024-01-20T10:15:00Z',
    reviewedBy: 'Sarah Johnson',
  },
];

export const mockDashboardStats: DashboardStats = {
  totalApplications: 156,
  pending: 23,
  approved: 98,
  rejected: 18,
  manualReview: 17,
  avgProcessingTime: '1.8 days',
  approvalRate: 62.8,
};

export const calculateRiskFactors = (application: LoanApplication): RiskFactor[] => {
  return [
    {
      name: 'Credit Score',
      value: application.creditScore,
      weight: 30,
      score: Math.max(0, Math.min(100, (application.creditScore - 300) / 5.5)),
      status: application.creditScore >= 720 ? 'good' : application.creditScore >= 650 ? 'warning' : 'critical',
      description: `${application.creditScore >= 720 ? 'Excellent' : application.creditScore >= 650 ? 'Fair' : 'Poor'} credit history`,
    },
    {
      name: 'Debt-to-Income Ratio',
      value: application.dti,
      weight: 25,
      score: Math.max(0, 100 - application.dti * 2),
      status: application.dti <= 30 ? 'good' : application.dti <= 43 ? 'warning' : 'critical',
      description: `${application.dti}% of income goes to debt`,
    },
    {
      name: 'Employment Stability',
      value: application.employmentDuration,
      weight: 20,
      score: Math.min(100, application.employmentDuration * 20),
      status: application.employmentDuration >= 3 ? 'good' : application.employmentDuration >= 1 ? 'warning' : 'critical',
      description: `${application.employmentDuration} years in current position`,
    },
    {
      name: 'Loan-to-Income Ratio',
      value: application.lti,
      weight: 15,
      score: Math.max(0, 100 - application.lti * 25),
      status: application.lti <= 3 ? 'good' : application.lti <= 5 ? 'warning' : 'critical',
      description: `Loan is ${application.lti.toFixed(2)}x annual income`,
    },
    {
      name: 'Document Verification',
      value: application.documents.filter(d => d.verified).length,
      weight: 10,
      score: (application.documents.filter(d => d.verified).length / Math.max(1, application.documents.length)) * 100,
      status: application.documents.every(d => d.verified) ? 'good' : application.documents.some(d => d.verified) ? 'warning' : 'critical',
      description: `${application.documents.filter(d => d.verified).length}/${application.documents.length} documents verified`,
    },
  ];
};
